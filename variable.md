# 전역변수와 지역 변수

변수는 각자의 namespace를 갖는다.

```python
a = 10
def f():
    b = 20
    	def g():
        c = 30
      print(a, b, c)
    g()
f()
# return: 10 20 30
```

위의 함수에서 a는 전역변수, b와 c는 지역변수이다.

전역변수는 함수 밖에서 선언된 변수이며, 지역변수는 함수 내에서 선언된 변수이다.

위의 함수에서 namespace는 c가 가장 작고, a가 가장 크다.

```python
a = 10
def f():
    b = 20
    def g():
        c = 30
        def m():
            c = 40
            print(a, b, c)
        m()
    g()
f()
# return: 10 20 40
```

c에 대한 값을 두 번을 선언했을 경우 print 되는 a, b, c의 값은 10, 20, 30이 아니라 10, 20, 40이다.

왜냐하면 값을 찾을 때는 지역변수를 먼저 찾으면서 전역까지 올라가기 때문이다. 값을 찾고 나면 더 큰 범위에 같은 지역변수에 대한 다른 값이 있다고 하더라도 그것을 거슬러 올라가서 출력하지 않는다. 값을 찾은 순간 해당 문제를 탈출한다.



또한 a라는 변수의 값을 전역변수로 10을 주고, 지역변수로 20을 준다고 해도 전역변수 a의 값은 변경되지 않는다. 전역변수 a와 지역변수 a는 똑같은 변수명을 가졌지만 다른 변수이고, 함수 내에서 변경하는 값은 함수 내에서만 동작하기 때문이다.



### 전역변수의 값을 수정하는 법

'global 변수명'을 선언하면 함수 내에서 값을 변경해도 전역변수의 값이 변경된다.

```python
a = 10
def func():
    global a
    a = 20
    print(a , 'in func')
func()
print(a, 'in main')

# return: 20 in func
# return: 20 in main
```



### 같은 지역변수명의 다른 값을 수정하는 법

'nonlocal 변수명'을 선언하면 같은 지역변수명의 다른 값을 수정할 수 있다. 만약 네임스페이스 내에서 해당 변수를 찾을 수 없다면 에러를 반환한다.

```python
def f():
    a = 10
    def g():
        b = 20
        def h():
            nonlocal b
            b = 30
            print(b, 'in h')
        h()
        print(b, 'in g')
    g()
f()

# return 30 in h
# return 30 in g
```

