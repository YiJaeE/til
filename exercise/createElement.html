<!DOCTYPE html>
<html lang="ko-KR">
<head>
  <meta charset="UTF-8">
  <title>createElement exercise</title>
</head>
<body>
  <input type="text" class="inputTodo">
  <ul class="todos"></ul>

  <script>
    const $inputTodo = document.querySelector('.inputTodo');
    const $todos = document.querySelector('.todos');

    $inputTodo.addEventListener('keyup', (e) => {      
      const content = e.target.value.trim();
      if (content === '' || e.keyCode !== 13) return;

      // structure = ul > li > checkbox + (span > text) + (button > text)
      // li
      const $li = document.createElement('li');

      // checkbox
      const $check = document.createElement('input');
      $check.setAttribute('type', 'checkbox');

      // span
      const $span = document.createElement('span');
      $span.setAttribute('style', 'text-decoration: none');
      const $textNode = document.createTextNode(`${content}`);

      // button
      const $button = document.createElement('button');
      const $btnText = document.createTextNode('X');

      // node connect
      $li.appendChild($check);
      $li.appendChild($span);
      $span.appendChild($textNode);
      $li.appendChild($button);
      $button.appendChild($btnText);
      $todos.appendChild($li);

      // li click event
      $li.addEventListener('click', (evt) => {
        const { checked } = $check;
        if (evt.target === $check && checked) {
          $span.setAttribute('style', 'text-decoration: line-through');
        } else if (evt.target === $check && !checked) {
          $span.setAttribute('style', 'text-decoration: none');
        }
        if (evt.target === $button) {
          $todos.removeChild($li);
        }
      });

      // input reset
      e.target.value = '';
    });
  </script>
</body>
</html>